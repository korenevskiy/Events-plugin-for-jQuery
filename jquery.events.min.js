/*
: http://opensource.org/licenses/MIT
 @requires jQuery
 @link 
 @tutorial https://github.com/korenevskiy/Events-plugin-for-jQuery
 @see https://github.com/korenevskiy/Events-plugin-for-jQuery
 @see https://habr.com/ru/post/512330/
 @example https://explorer-office.ru/files/index.html
 @version 0.9
 @mail koreshs@mail.ru
 @author Korenevskiy Sergei Borisovich (Кореневский Сергей Борисович)
 @copyright  Korenevskiy Sergei Borisovich (Кореневский Сергей Борисович)
*/
(function(h){"function"===typeof define&&define.amd?define(["jquery"],h):"object"===typeof module&&module.exports?module.exports=function(t,n){void 0===n&&(n="undefined"!==typeof window?require("jquery"):require("jquery")(t));h(n);return n}:h(jQuery)})(function(h){function t(a,b,c,e){a=h(a);a.each(function(a,d){a="";a=e.prevProp+1;a=e.tagListItem?h("<"+e.tagListItem+(" class = '"+(e.classListItem?e.classListItem:"")+" prop_"+a+"'")+">"+b+"</"+e.tagListItem+">").prop("value",b).prop("property",a).prop("var",
c):b;d=h(this).children().filter((a,b)=>b.property===e.prevProp);d.length?d.after(a):h(this).append(a)});return a}function n(a,b){return h(a).children().filter((a,e)=>e.value===b).remove()}function u(a,b,c,e){h(a).prop("value",e.object);var f="";f=e.property;let d=" class = '"+(e.classListItem?e.classListItem:"")+" prop_"+f+"'";f=e.tagListItem?h("<"+e.tagListItem+d+">"+b+"</"+e.tagListItem+">").prop("value",b).prop("property",f).prop("var",c):b;c=h(a).children();if([null,void 0].includes(b))return c.filter((a,
b)=>b.property===e.property).remove(),h(a);b=c.filter((a,b)=>b.property===e.property);if(b.length)return b.replaceWith(f),h(f);b=c.filter((a,b)=>b.property===e.prevProp);b.length?b.after(f):h(a).append(f);return h(f)}function q(a,b,c,e,f){if("boolean string number bigint symbol ".split(" ").includes(typeof b)&&void 0===e.property)return h(a).prop("value",b).prop("var",c).html(f);if(Array.isArray(b)&&void 0===e.property||null===e.property){a=h(a).empty().prop("value",b).prop("var",c);c=e.classListItem?
e.classListItem:"";for(let d in b)isFinite(d)&&(d=parseInt(d)),f=" class = '"+c+" prop_"+d+"'",f=e.tagListItem?h("<"+e.tagListItem+f+">"+b[d]+"</"+e.tagListItem+">").prop("value",b[d]).prop("property",d):b[d],a.append(f);return b=a}return!Array.isArray(b)&&"object"===typeof b&&void 0===e.property||""===e.property?h(a).prop("value",b).prop("property",e.property).prop("var",c).html(f):!0===e.property?t(a,b,c,e,f):!1===e.property?n(a,b):!1===[void 0,null,"",!0,!1].includes(e.property)?u(a,b,c,e):h(a).html(this)}
function m(a){let b=arguments[1],c=arguments[2],e={id:b,onlyone:!1,name:a,property:void 0,elements:this,tagListItem:"div",classListItem:"",unbind:function(c){if(0===arguments.length)return delete g[a][aselector],this.onlyone=!0,this;if(["1",1,!0].includes(c))return delete g[a][b],this.onlyone=!0,this;this.onlyone=!1;return this}},f;if(0===arguments.length||["undefined",void 0,null].includes(a))return g;if(1===arguments.length){if(["handler","function"].includes(arguments[0]))return p=arguments[0],
g;if("string"===typeof a)return g[a];Array.isArray(a);if("object"===typeof a){for(var d in a)if("string"===typeof a[d])m.call(this,d,a[d]);else if("undefined"===typeof a[d]||["undefined",void 0,null].includes(a[d]))m.call(this,d,null);else if("function"===typeof a[d])m.call(this,d,a[d]);else if("object"===typeof a[d])for(let b in a[d])m.call(this,d,b,a[d][b]);else m.call(this,d,a[d]);return this}}if(2===arguments.length){if(["undefined",void 0,null].includes(b))return delete g[a],this;if("object"===
typeof b&&!(b instanceof HTMLElement)){d=arguments[1];for(let b in d)["string"].includes(typeof d[b])?Array.isArray(arguments[1])?m.call(this,a,d[b]):m.call(this,a,b,d[b]):["undefined",void 0,null].includes(d[b])?m.call(this,a,b,null):"function"===typeof d[b]?Array.isArray(arguments[1])?m.call(this,a,d[b]):m.call(this,a,b,d[b]):m.call(this,a,d[b]);return this}if(["string"].includes(typeof b)||b instanceof HTMLElement)f=function(c,...d){d=Object.assign({},e,{value:c},...d);return q(b,c,a,d,this)};
["function","handler"].includes(typeof b)&&(f=function(a,...c){c=Object.assign({},e,{value:a},...c);return b(a,c)});r(a,f);return this}if(3===arguments.length){if(["function","handler"].includes(typeof c))return[void 0,null,!1,"",0].includes(b)&&(e.onlyone=!0),f=arguments[2],f=function(c,...d){d=Object.assign({},e,{value:c},...d);let l=f.call(c,c,d);"String"===typeof l&&(l=p(l,c));l&&b&&(l=p(l,c),l=q(b,l,a,d,l));return!0===d.onlyone?!1:l},r(a,f,b,e),this;if([null,""].includes(b))return this;if(["undefined",
void 0,null,!1,0,""].includes(c)){if(b instanceof HTMLElement){for(let c in g[a])g[a][c]===b&&delete g[a][c];return this}["string","number"].includes(typeof b)&&""!==b&&delete g[a][b];return this}if("string"===typeof c&&("string"===typeof b||b instanceof HTMLElement))return f=function(d,...f){f=Object.assign({},e,{value:d},...f);let l=this;c&&(l=p(c,this));l=q(b,d,a,f,l);return!0===f.onlyone?!1:l},r(a,f,b),this;if(["object"].includes(typeof c)){let d=c;f=function(f,...l){l=Object.assign({},e,{value:f},
...l,d);c=l.format||"";let g=this;c&&(g=p(c,this));g=q(b,f,a,l,g);return!0===l.onlyone?!1:g};r(a,f,b);return this}}}function p(a,b,c){if("object"!==typeof b)return a=a.replace("{0}",b).replace("{this}",b).replace("{value}",b).replace("{val}",b),a=a.replace("{var}",b).replace("{variable}",b);for(let c in b)this[c]=b[c],a=a.replace("{"+c+"}",b[c]).replace("{this."+c+"}",b[c]).replace("{value."+c+"}",b[c]);return a}const v="".concat((new Date).valueOf().toString()),g={},k={},r=function(a,b,c=0,e){!1===
g.hasOwnProperty(a)&&(g[a]={});0===c&&(c=Object.keys(g[a]).length+1,c=v.concat(c));"undefined"===typeof b||[!1,null,"undefined",void 0].includes(b)?delete g[a][c]:g[a][c]=b};h.fn.event=m;jQuery.fn.var=function(a,b){if(0===arguments.length)return k;if(1===arguments.length){if(["string","number","boolean","bigint","symbol"].includes(typeof a)){if([void 0,null].includes(k[a]))return null;k[a]}if("object"===typeof a)for(var c in a){null===a[c]&&delete k[c];k[c]=a[c];for(var e in g[c]){var f=g[c][e].call(b,
b,{value:b,property:void 0,propsRequaire:[],object:b,id:e});[!1,null].includes(f)&&delete g[c][e]}}return k[a]}if(2===arguments.length){[void 0,null].includes(b)?delete k[a]:k[a]=b;if(void 0===g[a])return g[a]={},this;for(let d in g[a])c=g[a][d].call(b,b,{value:b,property:void 0,propsRequaire:[],object:b,id:d}),[!1,null].includes(c)&&delete g[a][d]}if(3===arguments.length){c=arguments[2];["undefined",void 0,null,!1,"",0].includes(k[a])&&(k[a]={});if(["object"].includes(typeof c)){[void 0,null].includes(b)?
delete k[a]:k[a]=b;if(void 0===g[a])return g[a]={},this;for(let d in g[a])e=g[a][d].call(b,b,{value:b,property:void 0,propsRequaire:[],object:b,id:d},c),[!1,null].includes(e)&&delete g[a][d];if(void 0===c.property)return this;c=c.property}if(!1===["+",null,!1,!0,!1,null,"+","-",""].includes(c)){k[a][c]=b;f=Object.keys(k[a]);isFinite(c)?f.sort((a,b)=>a-b):f.sort();Object.values(k[a]);f=[];for(var d in k[a])k[a][d]===b&&f.push(d);for(const [e,h]of Object.entries(g[a]))d=h.call(b,b,{value:b,property:c,
propsRequaire:f,object:k[a],id:e}),[!1,null].includes(d)&&delete g[a][c];[null,void 0].includes(b)&&delete g[a][c];return this}if(["+",!0].includes(c)){var h=d=0;c=!0;if(Array.isArray(k[a]))d=k[a].length-1,k[a].push(b);else if(k[a]){for(var m of Object.keys(k[a]).sort((a,b)=>b-a))if(isFinite(m)){d=m=parseInt(m);h=1+m;break}k[a][h]=b}m=[];for(f in k[a])k[a][f]===b&&m.push(f);for(const [e,h]of Object.entries(g[a]))f=h.call(b,b,{value:b,property:c,propsRequaire:m,prevProp:d,object:k[a],id:e}),[!1,null].includes(f)&&
delete g[a][c];return this}if([null,!1,"-"].includes(c)){c=!1;f=[];for(h in k[a])k[a][h]===b&&(f.push(h),delete k[a][h]);for(const [e,h]of Object.entries(g[a]))d=h.call(b,b,{value:b,property:c,propsRequaire:f,object:k[a],id:e}),[!1,null].includes(d)&&delete g[a][c]}return this}};jQuery.fn.e=jQuery().event;jQuery.fn.v=jQuery().var;jQuery.v=jQuery().var;jQuery.e=jQuery().event});
